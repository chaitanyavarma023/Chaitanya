
var wme_row='<tr class="cbi-section-table-row" id="cbi-wifi_wme-cfgCFG_ID" data-lan>'
+' '
+'    <td class="cbi-value-field">'
+'        <div id="cbi-wifi_wme-cfgCFG_ID-access_category">'
+'        </div>'
+'    </td>'
+''
+'    <td class="cbi-value-field">'
+'        <div id="cbi-wifi_wme-cfgCFG_ID-cwmin_ap">'
+'            <input  title="" autocomplete="off" type="text" class="ace-tooltip" style="width:30px"'
+'            onchange="cbi_d_update(this.id)" name="cbid.wifi_wme.cfgCFG_ID.cwmin_ap" id="cbid.wifi_wme.cfgCFG_ID.cwmin_ap" value="" />'
+'            <script type="text/javascript">'
+'                cbi_validate_field("cbid.wifi_wme.cfgCFG_ID.cwmin_ap", true, "range(0,15)");'
+'            </script>'
+'        </div>'
+'        <div id="cbip-wifi_wme-cfgCFG_ID-cwmin_ap"></div>'
+'    </td>'
+' '
+'    <td class="cbi-value-field">'
+'        <div id="cbi-wifi_wme-cfgCFG_ID-cwmax_ap">'
+'            <input  title="" autocomplete="off" type="text" class="ace-tooltip" style="width:30px"'
+'            onchange="cbi_d_update(this.id)" name="cbid.wifi_wme.cfgCFG_ID.cwmax_ap" id="cbid.wifi_wme.cfgCFG_ID.cwmax_ap" value="" />'
+'            <script type="text/javascript">'
+'                cbi_validate_field("cbid.wifi_wme.cfgCFG_ID.cwmax_ap", true, "range(0,15)");'
+'            </script>'
+'        </div>'
+'        <div id="cbip-wifi_wme-cfgCFG_ID-cwmax_ap"></div>'
+'    </td>'
+' '
+'    <td class="cbi-value-field">'
+'        <div id="cbi-wifi_wme-cfgCFG_ID-aifs_ap">'
+'            <input  title="" autocomplete="off" type="text" class="ace-tooltip" style="width:30px"'
+'            onchange="cbi_d_update(this.id)" name="cbid.wifi_wme.cfgCFG_ID.aifs_ap" id="cbid.wifi_wme.cfgCFG_ID.aifs_ap" value="" />'
+'            <script type="text/javascript">'
+'                cbi_validate_field("cbid.wifi_wme.cfgCFG_ID.aifs_ap", true, "range(0,15)");'
+'            </script>'
+'        </div>'
+'        <div id="cbip-wifi_wme-cfgCFG_ID-aifs_ap"></div>'
+'    </td>'
+' '
+'    <td class="cbi-value-field">'
+'        <div id="cbi-wifi_wme-cfgCFG_ID-txop_limit_ap">'
+'            <input  title="" autocomplete="off" type="text" class="ace-tooltip" style="width:60px"'
+'            onchange="cbi_d_update(this.id)" name="cbid.wifi_wme.cfgCFG_ID.txop_limit_ap" id="cbid.wifi_wme.cfgCFG_ID.txop_limit_ap" value="" />'
+'            <script type="text/javascript">'
+'                cbi_validate_field("cbid.wifi_wme.cfgCFG_ID.txop_limit_ap", true, "range(0,8192)");'
+'            </script>'
+'        </div>'
+'        <div id="cbip-wifi_wme-cfgCFG_ID-txop_limit_ap"></div>'
+'    </td>'
+' '
+'    <td class="cbi-value-field">'
+'        <div id="cbi-wifi_wme-cfgCFG_ID-cwmin_client">'
+'            <input  title="" autocomplete="off" type="text" class="ace-tooltip" style="width:30px"'
+'            onchange="cbi_d_update(this.id)" name="cbid.wifi_wme.cfgCFG_ID.cwmin_client" id="cbid.wifi_wme.cfgCFG_ID.cwmin_client" value="" />'
+'            <script type="text/javascript">'
+'                cbi_validate_field("cbid.wifi_wme.cfgCFG_ID.cwmin_client", true, "range(0,15)");'
+'            </script>'
+'        </div>'
+'        <div id="cbip-wifi_wme-cfgCFG_ID-cwmin_client"></div>'
+'    </td>'
+' '
+'    <td class="cbi-value-field">'
+'        <div id="cbi-wifi_wme-cfgCFG_ID-cwmax_client">'
+'            <input  title="" autocomplete="off" type="text" class="ace-tooltip" style="width:30px"'
+'            onchange="cbi_d_update(this.id)" name="cbid.wifi_wme.cfgCFG_ID.cwmax_client" id="cbid.wifi_wme.cfgCFG_ID.cwmax_client" value="" />'
+'            <script type="text/javascript">'
+'                cbi_validate_field("cbid.wifi_wme.cfgCFG_ID.cwmax_client", true, "range(0,15)");'
+'            </script>'
+'        </div>'
+'        <div id="cbip-wifi_wme-cfgCFG_ID-cwmax_client"></div>'
+'    </td>'
+' '
+'    <td class="cbi-value-field">'
+'        <div id="cbi-wifi_wme-cfgCFG_ID-aifs_client">'
+'            <input  title="" autocomplete="off" type="text" class="ace-tooltip" style="width:30px"'
+'            onchange="cbi_d_update(this.id)" name="cbid.wifi_wme.cfgCFG_ID.aifs_client" id="cbid.wifi_wme.cfgCFG_ID.aifs_client" value="" />'
+'            <script type="text/javascript">'
+'                cbi_validate_field("cbid.wifi_wme.cfgCFG_ID.aifs_client", true, "range(0,15)");'
+'            </script>'
+'        </div>'
+'        <div id="cbip-wifi_wme-cfgCFG_ID-aifs_client"></div>'
+'    </td>'
+' '
+'    <td class="cbi-value-field">'
+'        <div id="cbi-wifi_wme-cfgCFG_ID-txop_limit_client">'
+'            <input  title="" autocomplete="off" type="text" class="ace-tooltip" style="width:60px"'
+'            onchange="cbi_d_update(this.id)" name="cbid.wifi_wme.cfgCFG_ID.txop_limit_client" id="cbid.wifi_wme.cfgCFG_ID.txop_limit_client" value="" />'
+'            <script type="text/javascript">'
+'                cbi_validate_field("cbid.wifi_wme.cfgCFG_ID.txop_limit_client", true, "range(0,8192)");'
+'            </script>'
+'        </div>'
+'        <div id="cbip-wifi_wme-cfgCFG_ID-txop_limit_client"></div>'
+'    </td>'
+'';var tbl_name='#table_wme';var wme_save=new Array();function generate_wme_table(){$(tbl_name+' tbody').html('');if(wme_config!=undefined){var cfg_id=0;for(category in wme_config){var row=wme_row.replace(/CFG_ID/g,cfg_id);row=$.parseHTML(row);if($(tbl_name+' tr').length>1){var selector=tbl_name+' tr:last';$(selector).after(row);}else{$(tbl_name+' tbody').append(row);}
var category_id='#cbi-wifi_wme-cfg'+cfg_id+'-access_category';$(category_id).html(category);var row_id='#cbi-wifi_wme-cfg'+cfg_id;var cols=$(row_id).find('input');for(i=0;i<cols.length;i++){cols.eq(i).val(wme_config[category][i]);}
cfg_id++;}}
$("tr[id^='cbi-wifi_wme-cfg']").find('input').change(function(){var value=$(this).val();if((this.id.indexOf('cwmin')>=0)||(this.id.indexOf('cwmax')>=0)||(this.id.indexOf('aifs')>=0)){cbi_validate_field(this.id,false,'range(0,15)');}
if(this.id.indexOf('txop_limit')>=0){cbi_validate_field(this.id,false,'range(0,8192)');}});}
function is_valid_wme_form(){$('#WME_form_error_msg_placeholder').addClass('hide');var flag=true;$("tr[id^='cbi-wifi_wme-cfg']").find('input').each(function(){var value=$(this).val();if((this.id.indexOf('cwmin')>=0)||(this.id.indexOf('cwmax')>=0)||(this.id.indexOf('aifs')>=0)){if(!cbi_validators.range(value.toString(),[0,15])){flag=false;}}
if(this.id.indexOf('txop_limit')>=0){if(!cbi_validators.range(value.toString(),[0,8192])){flag=false;}}});return flag;}
function save_wme_table(){if(!is_valid_wme_form()){$('#WME_form_error_msg_placeholder').removeClass('hide');}else{$('#wifi_wme_modal').modal('hide');wme_save=[];var order=["div:contains("+_('BestEffort')+")","div:contains("+_('Background')+")","div:contains("+_('Video')+")","div:contains("+_('Voice')+")"];for(i=0;i<order.length;i++){var new_cols=$(order[i]).closest('tr').find('input');for(j=0;j<new_cols.length;j++){var v=new_cols.eq(j).val();wme_save.push(v);}}
$('#cbid\\.wireless\\.'+radio_iface+'\\.wme_0').val(wme_save);}}